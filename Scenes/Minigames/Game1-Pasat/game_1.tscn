[gd_scene load_steps=9 format=3 uid="uid://byakp5eidib83"]

[ext_resource type="Script" uid="uid://cwig6qcbe8sss" path="res://Scenes/Minigames/Game1-Pasat/pasat.gd" id="1_0215e"]
[ext_resource type="Texture2D" uid="uid://br5doicbce0vs" path="res://Sprites/Temp/icon.svg" id="2_sbx25"]
[ext_resource type="PackedScene" uid="uid://dvdlispr17ae8" path="res://Scenes/Minigames/Game1-Pasat/Obstacle/obstacle.tscn" id="3_7ghyr"]
[ext_resource type="PackedScene" uid="uid://tc3ihcvkgaf0" path="res://Scenes/Minigames/Game1-Pasat/Cans/cans.tscn" id="4_mf4o6"]
[ext_resource type="Texture2D" uid="uid://d8kn7misupbf" path="res://Sprites/ShopItems/burtella.png" id="4_qgkjc"]

[sub_resource type="CircleShape2D" id="CircleShape2D_7ghyr"]
radius = 28.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_qgkjc"]
radius = 47.0
height = 154.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_7ghyr"]
normal = Vector2(1, 0)
distance = -0.5

[node name="Game1" type="Node2D" node_paths=PackedStringArray("obs_left", "obs_right", "tin_cans")]
script = ExtResource("1_0215e")
obs_left = [NodePath("Obstacles/ObstacleL1"), NodePath("Obstacles/ObstacleL2"), NodePath("Obstacles/ObstacleL3"), NodePath("Obstacles/ObstacleL4"), NodePath("Obstacles/ObstacleL5")]
obs_right = [NodePath("Obstacles/ObstacleR1"), NodePath("Obstacles/ObstacleR2"), NodePath("Obstacles/ObstacleR3"), NodePath("Obstacles/ObstacleR4"), NodePath("Obstacles/ObstacleR5")]
tin_cans = [NodePath("Obstacles/Can1"), NodePath("Obstacles/Can2")]
dif_time_offset = 20.0

[node name="Lines" type="Node2D" parent="."]

[node name="Left" type="Line2D" parent="Lines"]
position = Vector2(0, 270)
points = PackedVector2Array(-200, 0, 800, 0)
width = 3.0

[node name="Right" type="Line2D" parent="Lines"]
position = Vector2(0, 370)
points = PackedVector2Array(-200, 0, 800, 0)
width = 3.0

[node name="Opposite" type="Line2D" parent="Lines"]
position = Vector2(0, 120)
points = PackedVector2Array(-200, 0, 800, 0)
width = 3.0

[node name="MainCharacter" type="Area2D" parent="." groups=["player"]]
position = Vector2(60, 0)

[node name="Sprite2D" type="Sprite2D" parent="MainCharacter"]
scale = Vector2(0.4375, 0.4375)
texture = ExtResource("2_sbx25")

[node name="CollisionShape2D" type="CollisionShape2D" parent="MainCharacter"]
shape = SubResource("CircleShape2D_7ghyr")

[node name="Obstacles" type="Node2D" parent="."]

[node name="ObstacleL1" parent="Obstacles" instance=ExtResource("3_7ghyr")]
position = Vector2(850, 270)

[node name="ObstacleL2" parent="Obstacles" instance=ExtResource("3_7ghyr")]
position = Vector2(850, 270)

[node name="ObstacleL3" parent="Obstacles" instance=ExtResource("3_7ghyr")]
position = Vector2(850, 270)

[node name="ObstacleL4" parent="Obstacles" instance=ExtResource("3_7ghyr")]
position = Vector2(850, 270)

[node name="ObstacleL5" parent="Obstacles" instance=ExtResource("3_7ghyr")]
position = Vector2(850, 270)

[node name="ObstacleR1" parent="Obstacles" instance=ExtResource("3_7ghyr")]
position = Vector2(850, 370)

[node name="ObstacleR2" parent="Obstacles" instance=ExtResource("3_7ghyr")]
position = Vector2(850, 370)

[node name="ObstacleR3" parent="Obstacles" instance=ExtResource("3_7ghyr")]
position = Vector2(850, 370)

[node name="ObstacleR4" parent="Obstacles" instance=ExtResource("3_7ghyr")]
position = Vector2(850, 370)

[node name="ObstacleR5" parent="Obstacles" instance=ExtResource("3_7ghyr")]
position = Vector2(850, 370)

[node name="ObstacleCar1" parent="Obstacles" instance=ExtResource("3_7ghyr")]
position = Vector2(850, 120)
move_speed = 500.0

[node name="Sprite2D" parent="Obstacles/ObstacleCar1" index="0"]
position = Vector2(0, -7.0000076)
scale = Vector2(0.4224138, 1.2129033)
texture = ExtResource("4_qgkjc")

[node name="CollisionShape2D" parent="Obstacles/ObstacleCar1" index="1"]
shape = SubResource("CapsuleShape2D_qgkjc")

[node name="Can1" parent="Obstacles" instance=ExtResource("4_mf4o6")]
position = Vector2(850, 314)

[node name="Can2" parent="Obstacles" instance=ExtResource("4_mf4o6")]
position = Vector2(850, 314)

[node name="StopObstacles" type="Area2D" parent="."]
position = Vector2(0, -107)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StopObstacles"]
shape = SubResource("WorldBoundaryShape2D_7ghyr")

[node name="TimerLeft" type="Timer" parent="."]

[node name="Menu" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 640.0
offset_bottom = 480.0

[node name="Pause" type="ColorRect" parent="Menu"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.11764706, 0.11764706, 0.11764706, 0.24705882)

[node name="MarginContainer" type="MarginContainer" parent="Menu/Pause"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="Menu/Pause/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 20
alignment = 1

[node name="VBoxContainer" type="VBoxContainer" parent="Menu/Pause/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 0

[node name="Label" type="Label" parent="Menu/Pause/MarginContainer/VBoxContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Game is paused"
horizontal_alignment = 1

[node name="Label2" type="Label" parent="Menu/Pause/MarginContainer/VBoxContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 24
text = "...but is still running!"
horizontal_alignment = 1

[node name="Unpause" type="Button" parent="Menu/Pause/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
text = "Return to game"

[node name="ReturnToMainGame" type="Button" parent="Menu/Pause/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
text = "Quit minigame"

[node name="CansLabel" type="Label" parent="Menu/Pause/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Lorem ipsum papaj cardinale"
horizontal_alignment = 1

[node name="GameOver" type="ColorRect" parent="Menu"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.6901961, 0.0627451, 0.078431375, 0.24705882)

[node name="MarginContainer" type="MarginContainer" parent="Menu/GameOver"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="Menu/GameOver/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 20
alignment = 1

[node name="VBoxContainer" type="VBoxContainer" parent="Menu/GameOver/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 0

[node name="Label" type="Label" parent="Menu/GameOver/MarginContainer/VBoxContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Game Over!"
horizontal_alignment = 1

[node name="CansLabel" type="Label" parent="Menu/GameOver/MarginContainer/VBoxContainer/VBoxContainer"]
layout_mode = 2
text = "Lorem ipsum papaj cardinale"
horizontal_alignment = 1

[node name="Replay" type="Button" parent="Menu/GameOver/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
text = "Play again!"

[node name="ReturnToMainGame" type="Button" parent="Menu/GameOver/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
text = "Quit minigame"

[connection signal="area_entered" from="Obstacles/ObstacleL1" to="." method="_obstacle_hit"]
[connection signal="area_entered" from="Obstacles/ObstacleL2" to="." method="_obstacle_hit"]
[connection signal="area_entered" from="Obstacles/ObstacleL3" to="." method="_obstacle_hit"]
[connection signal="area_entered" from="Obstacles/ObstacleL4" to="." method="_obstacle_hit"]
[connection signal="area_entered" from="Obstacles/ObstacleL5" to="." method="_obstacle_hit"]
[connection signal="area_entered" from="Obstacles/ObstacleR1" to="." method="_obstacle_hit"]
[connection signal="area_entered" from="Obstacles/ObstacleR2" to="." method="_obstacle_hit"]
[connection signal="area_entered" from="Obstacles/ObstacleR3" to="." method="_obstacle_hit"]
[connection signal="area_entered" from="Obstacles/ObstacleR4" to="." method="_obstacle_hit"]
[connection signal="area_entered" from="Obstacles/ObstacleR5" to="." method="_obstacle_hit"]
[connection signal="area_entered" from="Obstacles/ObstacleCar1" to="." method="_obstacle_hit"]
[connection signal="player_hit" from="Obstacles/Can1" to="." method="_can_signal"]
[connection signal="player_hit" from="Obstacles/Can2" to="." method="_can_signal"]
[connection signal="area_entered" from="StopObstacles" to="." method="_reset_obstacle"]
[connection signal="timeout" from="TimerLeft" to="." method="_on_obstacle_timer"]
[connection signal="pressed" from="Menu/Pause/MarginContainer/VBoxContainer/Unpause" to="." method="_unpause_button"]
[connection signal="pressed" from="Menu/Pause/MarginContainer/VBoxContainer/ReturnToMainGame" to="." method="_return_to_game"]
[connection signal="pressed" from="Menu/GameOver/MarginContainer/VBoxContainer/Replay" to="." method="_replay"]
[connection signal="pressed" from="Menu/GameOver/MarginContainer/VBoxContainer/ReturnToMainGame" to="." method="_return_to_game"]

[editable path="Obstacles/ObstacleCar1"]
